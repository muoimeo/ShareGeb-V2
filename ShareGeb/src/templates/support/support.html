{% extends "base.html" %}

{% block content %}
<div class="container py-5">
    <div class="row mb-5">
        <div class="col-md-8 mx-auto text-center">
            <h1 class="display-4 fw-bold mb-4" data-aos="fade-up">Trung t√¢m h·ªó tr·ª£ ShareGeb</h1>
            <p class="lead" data-aos="fade-up" data-aos-delay="100">
                Ch√∫ng t√¥i lu√¥n s·∫µn s√†ng h·ªó tr·ª£ b·∫°n 24/7. D∆∞·ªõi ƒë√¢y l√† c√°c c√°ch ƒë·ªÉ li√™n h·ªá v·ªõi ch√∫ng t√¥i.
            </p>
        </div>
    </div>

    <div class="row mb-5">
        <div class="col-md-6 offset-md-3 mb-4" data-aos="fade-up">
            <div class="card h-100 border-0 shadow-sm">
                <div class="card-body text-center p-4">
                    <div class="rounded-circle bg-primary bg-opacity-10 p-4 d-inline-flex mb-3">
                        <i class="fas fa-headset text-primary fa-4x"></i>
                    </div>
                    <h3 class="mb-3">Tr√≤ truy·ªán c√πng tr·ª£ l√Ω ·∫£o ƒë√°ng y√™u</h3>
                    <p class="card-text text-muted">
                        Tr√≤ chuy·ªán tr·ª±c ti·∫øp v·ªõi ch√∫ m√®o Kachat ƒë·ªÉ ƒë∆∞·ª£c gi·∫£i ƒë√°p nhanh ch√≥ng.
                    </p>
                    <button class="btn btn-primary btn-lg mt-3" data-bs-toggle="modal" data-bs-target="#chatModal">
                        <i class="fas fa-comments me-2"></i>Tr√≤ chuy·ªán ngay
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="row mb-5">
        <div class="col-md-6 mb-4" data-aos="fade-up" data-aos-delay="100">
            <div class="card h-100 border-0 shadow-sm">
                <div class="card-body text-center p-4">
                    <div class="rounded-circle bg-success bg-opacity-10 p-3 d-inline-flex mb-3">
                        <i class="fas fa-phone-alt text-success fa-3x"></i>
                    </div>
                    <h4 class="mb-3">Hotline</h4>
                    <p class="card-text text-muted">
                        G·ªçi cho ch√∫ng t√¥i ƒë·ªÉ ƒë∆∞·ª£c h·ªó tr·ª£ tr·ª±c ti·∫øp t·ª´ ƒë·ªôi ng≈© chƒÉm s√≥c kh√°ch h√†ng.
                    </p>
                    <a href="tel:+842412345678" class="btn btn-success mt-3">
                        <i class="fas fa-phone-alt me-2"></i>024 1234 5678
                    </a>
                </div>
            </div>
        </div>
        <div class="col-md-6 mb-4" data-aos="fade-up" data-aos-delay="200">
            <div class="card h-100 border-0 shadow-sm">
                <div class="card-body text-center p-4">
                    <div class="rounded-circle bg-info bg-opacity-10 p-3 d-inline-flex mb-3">
                        <i class="fas fa-envelope text-info fa-3x"></i>
                    </div>
                    <h4 class="mb-3">Email</h4>
                    <p class="card-text text-muted">
                        G·ª≠i email ƒë·ªÉ ƒë∆∞·ª£c h·ªó tr·ª£ chi ti·∫øt v·ªÅ c√°c v·∫•n ƒë·ªÅ ph·ª©c t·∫°p h∆°n.
                    </p>
                    <a href="mailto:support@sharegeb.vn" class="btn btn-info text-white mt-3">
                        <i class="fas fa-envelope me-2"></i>support@sharegeb.vn
                    </a>
                </div>
            </div>
        </div>
    </div>

    <div class="row mb-5">
        <div class="col-md-10 mx-auto">
            <div class="card border-0 shadow-sm" data-aos="fade-up">
                <div class="card-body p-5">
                    <h2 class="mb-4 text-center">C√¢u h·ªèi th∆∞·ªùng g·∫∑p</h2>
                    <div class="accordion" id="faqAccordion">
                        <div class="accordion-item border-0 mb-3 shadow-sm">
                            <h2 class="accordion-header" id="headingOne">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                    L√†m th·∫ø n√†o ƒë·ªÉ ƒë·∫∑t xe tr√™n ShareGeb?
                                </button>
                            </h2>
                            <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    <p>ƒê·ªÉ ƒë·∫∑t xe tr√™n ShareGeb, b·∫°n c·∫ßn:</p>
                                    <ol>
                                        <li>ƒêƒÉng nh·∫≠p v√†o t√†i kho·∫£n c·ªßa b·∫°n</li>
                                        <li>Ch·ªçn "ƒê·∫∑t xe" t·ª´ menu ch√≠nh</li>
                                        <li>Nh·∫≠p ƒë·ªãa ƒëi·ªÉm ƒë√≥n v√† ƒëi·ªÉm ƒë·∫øn</li>
                                        <li>Ch·ªçn lo·∫°i xe v√† ph∆∞∆°ng th·ª©c thanh to√°n</li>
                                        <li>X√°c nh·∫≠n ƒë·∫∑t xe</li>
                                    </ol>
                                    <p>Sau khi ho√†n th√†nh c√°c b∆∞·ªõc tr√™n, h·ªá th·ªëng s·∫Ω t√¨m t√†i x·∫ø ph√π h·ª£p v√† th√¥ng b√°o cho b·∫°n.</p>
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item border-0 mb-3 shadow-sm">
                            <h2 class="accordion-header" id="headingTwo">
                                <button class="accordion-button     " type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                    L√†m th·∫ø n√†o ƒë·ªÉ h·ªßy chuy·∫øn ƒëi ƒë√£ ƒë·∫∑t?
                                </button>
                            </h2>
                            <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    <p>ƒê·ªÉ h·ªßy chuy·∫øn ƒëi ƒë√£ ƒë·∫∑t, b·∫°n c√≥ th·ªÉ:</p>
                                    <ol>
                                        <li>M·ªü ·ª©ng d·ª•ng ShareGeb</li>
                                        <li>V√†o ph·∫ßn "Chuy·∫øn ƒëi hi·ªán t·∫°i"</li>
                                        <li>Ch·ªçn "H·ªßy chuy·∫øn"</li>
                                        <li>Ch·ªçn l√Ω do h·ªßy v√† x√°c nh·∫≠n</li>
                                    </ol>
                                    <p>L∆∞u √Ω: Vi·ªác h·ªßy chuy·∫øn c√≥ th·ªÉ ph√°t sinh ph√≠ t√πy thu·ªôc v√†o th·ªùi ƒëi·ªÉm h·ªßy so v·ªõi th·ªùi gian ƒë·∫∑t xe.</p>
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item border-0 mb-3 shadow-sm">
                            <h2 class="accordion-header" id="headingThree">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                    L√†m sao ƒë·ªÉ b√°o c√°o v·∫•n ƒë·ªÅ v·ªÅ chuy·∫øn ƒëi?
                                </button>
                            </h2>
                            <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    <p>N·∫øu b·∫°n g·∫∑p v·∫•n ƒë·ªÅ v·ªõi chuy·∫øn ƒëi, b·∫°n c√≥ th·ªÉ b√°o c√°o b·∫±ng c√°ch:</p>
                                    <ol>
                                        <li>V√†o ph·∫ßn "Chuy·∫øn ƒëi g·∫ßn ƒë√¢y" trong t√†i kho·∫£n c·ªßa b·∫°n</li>
                                        <li>Ch·ªçn chuy·∫øn ƒëi c√≥ v·∫•n ƒë·ªÅ</li>
                                        <li>Ch·ªçn "B√°o c√°o v·∫•n ƒë·ªÅ"</li>
                                        <li>M√¥ t·∫£ chi ti·∫øt v·∫•n ƒë·ªÅ v√† g·ª≠i b√°o c√°o</li>
                                    </ol>
                                    <p>ƒê·ªôi ng≈© h·ªó tr·ª£ c·ªßa ch√∫ng t√¥i s·∫Ω xem x√©t b√°o c√°o v√† li√™n h·ªá v·ªõi b·∫°n trong v√≤ng 24 gi·ªù.</p>
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item border-0 mb-3 shadow-sm">
                            <h2 class="accordion-header" id="headingFour">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                                    C√°c ph∆∞∆°ng th·ª©c thanh to√°n ƒë∆∞·ª£c ch·∫•p nh·∫≠n?
                                </button>
                            </h2>
                            <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    <p>ShareGeb ch·∫•p nh·∫≠n nhi·ªÅu ph∆∞∆°ng th·ª©c thanh to√°n kh√°c nhau, bao g·ªìm:</p>
                                    <ul>
                                        <li>Ti·ªÅn m·∫∑t</li>
                                        <li>Th·∫ª t√≠n d·ª•ng/ghi n·ª£ (Visa, Mastercard, JCB)</li>
                                        <li>V√≠ ƒëi·ªán t·ª≠ (Momo, ZaloPay, VNPay, Shopee Pay, GrabPay)</li>
                                        <li>Chuy·ªÉn kho·∫£n ng√¢n h√†ng</li>
                                    </ul>
                                    <p>B·∫°n c√≥ th·ªÉ th√™m ho·∫∑c qu·∫£n l√Ω c√°c ph∆∞∆°ng th·ª©c thanh to√°n trong ph·∫ßn "Ch·ªânh s·ª≠a th√¥ng tin" c·ªßa t√†i kho·∫£n.</p>
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item border-0 mb-3 shadow-sm">
                            <h2 class="accordion-header" id="headingFive">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                                    L√†m th·∫ø n√†o ƒë·ªÉ tr·ªü th√†nh t√†i x·∫ø cho ShareGeb?
                                </button>
                            </h2>
                            <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    <p>ƒê·ªÉ tr·ªü th√†nh t√†i x·∫ø ƒë·ªëi t√°c v·ªõi ShareGeb, b·∫°n c·∫ßn:</p>
                                    <ol>
                                        <li>Truy c·∫≠p trang "Tr·ªü th√†nh ƒë·ªëi t√°c" tr√™n website c·ªßa ch√∫ng t√¥i</li>
                                        <li>ƒêƒÉng k√Ω th√¥ng tin c√° nh√¢n v√† ph∆∞∆°ng ti·ªán</li>
                                        <li>Cung c·∫•p gi·∫•y t·ªù c·∫ßn thi·∫øt (CMND/CCCD, b·∫±ng l√°i xe, ƒëƒÉng k√Ω xe, ...)</li>
                                        <li>Tham gia bu·ªïi ƒë√†o t·∫°o ng·∫Øn</li>
                                        <li>Ho√†n t·∫•t c√°c th·ªß t·ª•c ph√°p l√Ω</li>
                                    </ol>
                                    <p>Sau khi ho√†n th√†nh v√† ƒë∆∞·ª£c x√°c minh, b·∫°n s·∫Ω tr·ªü th√†nh t√†i x·∫ø ƒë·ªëi t√°c ch√≠nh th·ª©c c·ªßa ShareGeb.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row mb-5" data-aos="fade-up">
        <div class="col-lg-6 mb-4 mb-lg-0">
            <div class="card border-0 shadow-sm h-100">
                <div class="card-body p-4">
                    <h3 class="mb-4">G·ª≠i y√™u c·∫ßu h·ªó tr·ª£</h3>
                    <form id="supportForm">
                        <div class="mb-3">
                            <label class="form-label">H·ªç v√† t√™n</label>
                            <input type="text" class="form-control" placeholder="Nh·∫≠p h·ªç v√† t√™n" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Email</label>
                            <input type="email" class="form-control" placeholder="Nh·∫≠p email" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Ch·ªß ƒë·ªÅ</label>
                            <select class="form-select" required>
                                <option value="">Ch·ªçn ch·ªß ƒë·ªÅ</option>
                                <option value="booking">V·∫•n ƒë·ªÅ ƒë·∫∑t xe</option>
                                <option value="payment">V·∫•n ƒë·ªÅ thanh to√°n</option>
                                <option value="account">T√†i kho·∫£n</option>
                                <option value="driver">V·∫•n ƒë·ªÅ v·ªõi t√†i x·∫ø</option>
                                <option value="other">Kh√°c</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">M√¥ t·∫£ v·∫•n ƒë·ªÅ</label>
                            <textarea class="form-control" rows="5" placeholder="M√¥ t·∫£ chi ti·∫øt v·∫•n ƒë·ªÅ c·ªßa b·∫°n" required></textarea>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">ƒê√≠nh k√®m file (n·∫øu c√≥)</label>
                            <input type="file" class="form-control">
                        </div>
                        <button type="submit" class="btn btn-primary px-4">G·ª≠i y√™u c·∫ßu</button>
                    </form>
                </div>
            </div>
        </div>
        <div class="col-lg-6">
            <div class="card border-0 shadow-sm h-100">
                <div class="card-body p-4">
                    <h3 class="mb-4">Th√¥ng tin li√™n h·ªá</h3>
                    <div class="d-flex mb-4">
                        <div class="me-3">
                            <i class="fas fa-map-marker-alt fa-2x text-primary"></i>
                        </div>
                        <div>
                            <h5>ƒê·ªãa ch·ªâ</h5>
                            <p class="text-muted">T·∫ßng 15, T√≤a nh√† Capital Place, 29 Li·ªÖu Giai, Ph∆∞·ªùng Ng·ªçc Kh√°nh, Qu·∫≠n Ba ƒê√¨nh, H√† N·ªôi</p>
                        </div>
                    </div>
                    <div class="d-flex mb-4">
                        <div class="me-3">
                            <i class="fas fa-phone-alt fa-2x text-primary"></i>
                        </div>
                        <div>
                            <h5>ƒêi·ªán tho·∫°i</h5>
                            <p class="text-muted">Hotline: (024) 1234 5678<br>H·ªó tr·ª£ k·ªπ thu·∫≠t: (024) 8765 4321</p>
                        </div>
                    </div>
                    <div class="d-flex mb-4">
                        <div class="me-3">
                            <i class="fas fa-envelope fa-2x text-primary"></i>
                        </div>
                        <div>
                            <h5>Email</h5>
                            <p class="text-muted">H·ªó tr·ª£ chung: support@sharegeb.vn<br>G√≥p √Ω d·ªãch v·ª•: feedback@sharegeb.vn</p>
                        </div>
                    </div>
                    <div class="d-flex mb-4">
                        <div class="me-3">
                            <i class="fas fa-clock fa-2x text-primary"></i>
                        </div>
                        <div>
                            <h5>Gi·ªù l√†m vi·ªác</h5>
                            <p class="text-muted">Th·ª© Hai - Th·ª© S√°u: 8:00 - 18:00<br>Th·ª© B·∫£y: 8:00 - 12:00<br>H·ªó tr·ª£ kh·∫©n c·∫•p: 24/7</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Chat Modal -->
<div class="modal fade" id="chatModal" tabindex="-1" aria-labelledby="chatModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header bg-primary text-white">
                <h5 class="modal-title" id="chatModalLabel">
                    <i class="fas fa-comments me-2"></i>H·ªó tr·ª£ tr·ª±c tuy·∫øn
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="chat-container" id="chatContainer">
                    <div class="chat-message assistant">
                        <div class="chat-bubble">
                            <p>Hello Meow! Kachat lu√¥n s·∫µn s√†ng ph·ª•c v·ª•. T√¥i c√≥ th·ªÉ gi√∫p g√¨ cho b·∫°n?</p>
                        </div>
                        <small class="text-muted">Kachatüòº</small>
                    </div>
                    <!-- Chat messages will appear here -->
                </div>
                <div class="chat-input mt-3">
                    <form id="chatForm" class="d-flex">
                        <input type="text" id="chatMessage" class="form-control me-2" placeholder="Nh·∫≠p tin nh·∫Øn..." required>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .accordion-button:not(.collapsed) {
        background-color: rgba(var(--bs-primary-rgb), 0.1);
        color: var(--primary-color);
    }
    
    .accordion-button:focus {
        box-shadow: none;
        border-color: rgba(0,0,0,.125);
    }
    
    .chat-container {
        height: 300px;
        overflow-y: auto;
        display: flex;
        flex-direction: column;
    }
    
    .chat-message {
        margin-bottom: 15px;
        display: flex;
        flex-direction: column;
    }
    
    .chat-message.user {
        align-items: flex-end;
    }
    
    .chat-message.assistant {
        align-items: flex-start;
    }
    
    .chat-bubble {
        max-width: 80%;
        padding: 10px 15px;
        border-radius: 15px;
    }
    
    .chat-message.user .chat-bubble {
        background-color: var(--primary-color);
        color: white;
        border-bottom-right-radius: 5px;
    }
    
    .chat-message.assistant .chat-bubble {
        background-color: #f0f2f5;
        border-bottom-left-radius: 5px;
    }
    
    .chat-bubble p {
        margin-bottom: 0;
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const chatForm = document.getElementById('chatForm');
        const chatMessage = document.getElementById('chatMessage');
        const chatContainer = document.getElementById('chatContainer');
        
        chatForm.addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const message = chatMessage.value.trim();
            if (!message) return;
            
            // Add user message to chat
            addMessage('user', message);
            chatMessage.value = '';
    
            // Call backend API
            try {
                const response = await fetch('/chat', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ message: message })
                });
    
                const data = await response.json();
                addMessage('assistant', data.response);
            } catch (error) {
                addMessage('assistant', 'Xin l·ªói, c√≥ l·ªói x·∫£y ra. Vui l√≤ng th·ª≠ l·∫°i sau.');
            }
        });
        
        function addMessage(sender, text) {
            const now = new Date();
            const time = now.getHours().toString().padStart(2, '0') + ':' + 
                        now.getMinutes().toString().padStart(2, '0');
            
            const messageDiv = document.createElement('div');
            messageDiv.className = `chat-message ${sender}`;
            
            messageDiv.innerHTML = `
                <div class="chat-bubble">
                    <p>${text}</p>
                </div>
                <small class="text-muted">${sender === 'user' ? 'B·∫°n' : 'Tr·ª£ l√Ω ShareGeb'}, ${time}</small>
            `;
            
            chatContainer.appendChild(messageDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }
    });
    
</script>
{% endblock %} 